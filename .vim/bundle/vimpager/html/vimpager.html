<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Lucas Hoffmann l-m-h@web.de" />
  <meta name="author" content="Abdó Roig-Maranges abdo.roig@gmail.com" />
  <meta name="author" content="Rafael Kitover rkitover@gmail.com" />
  <title>Vimpager User Manual</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</head>
<body>
<div id="header">
<h1 class="title">Vimpager User Manual</h1>
<h2 class="author">Lucas Hoffmann <a href="mailto:l-m-h@web.de">l-m-h@web.de</a></h2>
<h2 class="author">Abdó Roig-Maranges <a href="mailto:abdo.roig@gmail.com">abdo.roig@gmail.com</a></h2>
<h2 class="author">Rafael Kitover <a href="mailto:rkitover@gmail.com">rkitover@gmail.com</a></h2>
<h3 class="date">říjen 03, 2017</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#name">NAME</a></li>
<li><a href="#synopsis">SYNOPSIS</a></li>
<li><a href="#run-time-dependencies">RUN-TIME DEPENDENCIES</a></li>
<li><a href="#build-dependencies">BUILD DEPENDENCIES</a></li>
<li><a href="#install">INSTALL</a></li>
<li><a href="#pathogen-installation">PATHOGEN INSTALLATION</a></li>
<li><a href="#description">DESCRIPTION</a></li>
<li><a href="#using-from-vim">USING FROM VIM</a></li>
<li><a href="#command-line-options">COMMAND LINE OPTIONS</a><ul>
<li><a href="#h-help-usage">-h | –help | –usage</a></li>
<li><a href="#v-version">-v | –version</a></li>
<li><a href="#g">+ | +G</a></li>
<li><a href="#n-line-numbers">-N | –LINE-NUMBERS</a></li>
<li><a href="#c-cmd">-c cmd</a></li>
<li><a href="#cmd-cmd">–cmd cmd</a></li>
<li><a href="#u-vimrc">-u vimrc</a></li>
<li><a href="#s">-s</a></li>
<li><a href="#x">-x</a></li>
</ul></li>
<li><a href="#ansi-escape-sequences-and-overstrikes">ANSI ESCAPE SEQUENCES AND OVERSTRIKES</a></li>
<li><a href="#passthrough-mode">PASSTHROUGH MODE</a></li>
<li><a href="#cygwinmsysmsys2-notes">CYGWIN/MSYS/MSYS2 NOTES</a></li>
<li><a href="#environment">ENVIRONMENT</a></li>
</ul>
</div>
<h1 id="name">NAME</h1>
<p>vimpager - pager using vim and less.vim</p>
<h1 id="synopsis">SYNOPSIS</h1>
<p>vimpager [options] ‘some file’</p>
<p># or (this won’t always syntax highlight as well)</p>
<p>cat ‘some file’ | vimpager [options]</p>
<p>For vimcat see <a href="vimcat.html">here</a> or ‘man vimcat’.</p>
<h1 id="run-time-dependencies">RUN-TIME DEPENDENCIES</h1>
<ul>
<li>vim, version &gt;= 7.3</li>
<li>a POSIX conformant shell, see <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html">the<br />
standard</a><br />
common variants are searched for, bash is fine</li>
</ul>
<h1 id="build-dependencies">BUILD DEPENDENCIES</h1>
<ul>
<li>sharutils or some uuencode (only if you change the <em>/</em>.vim sources)</li>
<li>pandoc (for man pages and html, optional)</li>
<li>doctoc (for markdown TOCs, optional)</li>
<li>bats (for tests, optional, get it from:<br />
<a href="https://github.com/sstephenson/bats.git" class="uri">https://github.com/sstephenson/bats.git</a>)</li>
</ul>
<h1 id="install">INSTALL</h1>
<p>On Ubuntu or Debian, use the following to install a package:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone git://github.com/rkitover/vimpager
<span class="bu">cd</span> vimpager
<span class="fu">sudo</span> make install-deb</code></pre></div>
<p>Otherwise use ‘make install’ instead:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone git://github.com/rkitover/vimpager
<span class="bu">cd</span> vimpager
<span class="fu">sudo</span> make install</code></pre></div>
<p>The following make settings are supported at <code>make install</code> time:</p>
<table>
<thead>
<tr class="header">
<th><strong>Variable</strong></th>
<th><strong>Purpose</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DESTDIR</td>
<td>base dir where files will be written, for packaging</td>
</tr>
<tr class="even">
<td>PREFIX</td>
<td>install prefix to configure for, e.g. /usr/local</td>
</tr>
<tr class="odd">
<td>prefix</td>
<td>prefix for writing files, e.g. for GNU stow</td>
</tr>
<tr class="even">
<td>POSIX_SHELL</td>
<td>POSIX shell to use to run the scripts</td>
</tr>
</tbody>
</table>
<p>If you got vimpager from the vim.org scripts section, just put it<br />
somewhere in your PATH, e.g.:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">cp</span> vimpager ~/bin
<span class="fu">chmod</span> +x ~/bin/vimpager</code></pre></div>
<p>In your ~/.bashrc add the following:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">export</span> <span class="va">PAGER=</span>/usr/local/bin/vimpager
<span class="bu">alias</span> less=<span class="va">$PAGER</span>
<span class="bu">alias</span> zless=<span class="va">$PAGER</span></code></pre></div>
<h1 id="pathogen-installation">PATHOGEN INSTALLATION</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span> ~/.vim/bundle
<span class="fu">git</span> clone https://github.com/rkitover/vimpager.git</code></pre></div>
<p>If you installed using one of the above methods, you can add the runtime to your<br />
<code>runtimepath</code> by putting the following in your <code>.vimrc</code>:</p>
<pre class="vim"><code>set rtp^=/usr/share/vimpager</code></pre>
<p>Set <code>PAGER</code> and aliases as above with the path into <code>~/.vim/bundle/vimpager</code>.</p>
<p>See <a href="#using-from-vim">Using From Vim</a>.</p>
<h1 id="description">DESCRIPTION</h1>
<p>A PAGER using less.vim with support for highlighting of man pages and<br />
many other features. Works on most UNIX-like systems as well as Cygwin<br />
and MSYS.</p>
<p>On GitHub: <a href="http://github.com/rkitover/vimpager" class="uri">http://github.com/rkitover/vimpager</a></p>
<p>To use a different vimrc with vimpager, put your settings into a ~/.vimpagerrc<br />
or ~/.vim/vimpagerrc or a file pointed to by the VIMPAGER_RC environment<br />
variable.</p>
<p>You can also have a global config file for all users in /etc/vimpagerrc, it will<br />
be used if the user does not have a <code>.vimrc</code> or <code>.vimpagerrc</code>.</p>
<p>These are the keys for paging while in vimpager, they are the same as in<br />
less for the most part:</p>
<table>
<thead>
<tr class="header">
<th><strong>Key</strong></th>
<th><strong>Action</strong></th>
<th><strong>Key</strong></th>
<th><strong>Action</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Space</td>
<td>One page forward</td>
<td>b</td>
<td>One page backward</td>
</tr>
<tr class="even">
<td>d</td>
<td>Half a page forward</td>
<td>u</td>
<td>Half a page backward</td>
</tr>
<tr class="odd">
<td>Enter</td>
<td>One line forward</td>
<td>k</td>
<td>One line backward</td>
</tr>
<tr class="even">
<td>G</td>
<td>End of file</td>
<td>g</td>
<td>Start of file</td>
</tr>
<tr class="odd">
<td>N%</td>
<td>percentage in file</td>
<td>,h</td>
<td>Display this help</td>
</tr>
<tr class="even">
<td>/pattern</td>
<td>Search forward</td>
<td>?pattern</td>
<td>Search backward</td>
</tr>
<tr class="odd">
<td>n</td>
<td>next match</td>
<td>N</td>
<td>Previous match</td>
</tr>
<tr class="even">
<td><code>:n</code></td>
<td>next file</td>
<td><code>:N</code></td>
<td>Previous file</td>
</tr>
<tr class="odd">
<td>ESC-u</td>
<td>toggle search highlight</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>q</td>
<td>Quit</td>
<td>,v</td>
<td>Toggle Less Mode</td>
</tr>
</tbody>
</table>
<p>The commands that start with <code>,</code> will use your value of <code>g:mapleader</code> if you set<br />
one instead.</p>
<p>To disable loading plugins, put “set noloadplugins” into a vimpagerrc<br />
file.</p>
<p>You can also switch on <code>exists('g:vimpager.enabled')</code> in your vimrc to set<br />
alternate settings for vimpager.</p>
<p><strong>WARNING:</strong> Option names have changed from the previous releases to use a<br />
dict, if you use the old option names and check on <code>exists('g:vimpager')</code><br />
everything will work the same way, if you use the new option names you must<br />
check <code>exists('g:vimpager.enabled')</code> instead.</p>
<p><strong>NOTE:</strong> Before setting the vimpager and less.vim related options described<br />
below, make sure the <code>g:vimpager</code> and <code>g:less</code> dicts exist like so:</p>
<pre class="vim"><code>let g:vimpager = {}
let g:less     = {}</code></pre>
<p>If you want to disable less compatibility mode, and use regular vim<br />
motion commands, put this into your .vimrc/vimpagerrc:</p>
<pre class="vim"><code>let g:less.enabled = 0</code></pre>
<p>You can still enable less mode with this setting by pressing “,v”. If you<br />
define <code>g:mapleader</code> then it will be the value of <code>g:mapleader</code> plus <code>v</code><br />
instead of <code>,v</code>.</p>
<p>Put the following into your .vimrc/vimpagerrc if you want to use gvim/MacVim<br />
for your pager window:</p>
<pre class="vim"><code>let g:vimpager.gvim = 1</code></pre>
<p>To turn off the feature of passing through text that is smaller than the<br />
terminal height use this:</p>
<pre class="vim"><code>let g:vimpager.passthrough = 0</code></pre>
<p>See “PASSTHROUGH MODE” further down.</p>
<p>To turn on line numbers set:</p>
<pre class="vim"><code>let g:less.number = 1</code></pre>
<p>they are turned off by default. You can also invoke vimpager with the <code>-N</code><br />
option to turn on line numbers.</p>
<p>To turn off search highlighting set:</p>
<pre class="vim"><code>let g:less.hlsearch = 0</code></pre>
<p>this can always be toggled with <code>ESC-u</code>.</p>
<p>To start vim with -X (no x11 connection, a bit faster startup) put the following<br />
into your .vimrc/vimpagerrc:</p>
<pre class="vim"><code>let g:vimpager.X11 = 0</code></pre>
<p><strong>NOTE:</strong> this may disable clipboard integration in X terminals.</p>
<p>The scroll offset (:help scrolloff), may be specified by placing the<br />
following into your .vimrc/vimpagerrc (default = 5, disable = 0):</p>
<pre class="vim"><code>let g:less.scrolloff = 5</code></pre>
<p>The default is 5 only in less mode, with less mode disabled the default<br />
is the user’s scrolloff setting.</p>
<p>The process tree of vimpager is available in <code>vimpager.ptree</code>, an example usage<br />
is as follows:</p>
<pre class="vim"><code>if exists(&#39;g:vimpager.enabled&#39;)
  if exists(&#39;g:vimpager.ptree&#39;) &amp;&amp; g:vimpager.ptree[-2] == &#39;wman&#39;
    set ft=man
  endif
endif</code></pre>
<p>To disable the use of AnsiEsc.vim to display ANSI colors in the source,<br />
set:</p>
<pre class="vim"><code>let g:vimpager.ansiesc = 0</code></pre>
<p>see the section <a href="#ansi-escape-sequences-and-overstrikes">ANSI ESCAPE SEQUENCES AND<br />
OVERSTRIKES</a> for more details.</p>
<p>You can also set your own function for the message on the statusline via<br />
<code>g:less.statusfunc</code>, see <code>autoload/vimpager_utils.vim</code> for the default one as an<br />
example.</p>
<h1 id="using-from-vim">USING FROM VIM</h1>
<p>If you installed vimpager via <a href="#pathogen-installation">Pathogen</a> or added it to<br />
your <code>runtimepath</code>, then the <code>Page</code> command is available from normal vim<br />
sessions, and it is also available when invoking the vimpager script.</p>
<p>If your global <code>keywordprg</code> is set to <code>man</code> or <code>:Man</code>, which is the default, the<br />
plugin will reset it to <code>:Page!\ -t\ man</code> to page man pages in a new tab. See<br />
the example below for how to set this for other file types.</p>
<p>You may want to add something like the following to your <code>.vimrc</code> to enable the<br />
mapping to turn on less mode:</p>
<pre class="vim"><code>let g:mapleader = &#39;,&#39;
runtime macros/less.vim</code></pre>
<p>Then <code>,v</code> will toggle less mode in any buffer. The default <code>mapleader</code> is <code>\</code>.</p>
<p><strong>NOTE:</strong> If you are using Vim 7.3 or earlier, the Surround plugin will conflict<br />
with less.vim mappings such as Ctrl-D, on 7.4+ this is not an issue as the<br />
<code>&lt;nowait&gt;</code> tag is used for mappings.</p>
<p>The syntax of the <code>Page</code> command is:</p>
<table>
<thead>
<tr class="header">
<th><strong>Command</strong></th>
<th><strong>Option</strong></th>
<th><strong>Arg</strong></th>
<th><strong>Action</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Page</td>
<td>-t, -v, -w or -b</td>
<td>file_path</td>
<td>open file in less mode</td>
</tr>
<tr class="even">
<td>Page!</td>
<td>-t, -v, -w or -b</td>
<td>shell_command</td>
<td>open output of command in less mode</td>
</tr>
<tr class="odd">
<td>Page</td>
<td></td>
<td></td>
<td>toggle less mode for current file</td>
</tr>
<tr class="even">
<td>Page!</td>
<td></td>
<td></td>
<td>turn on less mode for current file</td>
</tr>
</tbody>
</table>
<p>The option switch is optional and determines where the file or command is<br />
opened:</p>
<table>
<thead>
<tr class="header">
<th><strong>Option</strong></th>
<th><strong>Target</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>-t</td>
<td>new tab</td>
</tr>
<tr class="even">
<td>-v</td>
<td>vertical split</td>
</tr>
<tr class="odd">
<td>-w</td>
<td>new window</td>
</tr>
<tr class="even">
<td>-b</td>
<td>new buffer (default)</td>
</tr>
</tbody>
</table>
<p>The default is to open a new buffer.</p>
<p>For <code>Page!</code> commands, STDERR is suppressed.</p>
<p>I recommend adding <code>set hidden</code> to your <code>.vimrc</code>.</p>
<p>If the command is one of <code>man</code>, <code>perldoc</code>, <code>pydoc</code> or <code>ri</code> it will be handled<br />
specially, overstrikes will be removed and <code>filetype</code> will be set to <code>man</code> or<br />
<code>perldoc</code>.</p>
<p>Ansi escapes will be handled with <code>AnsiEsc</code> if available, or removed otherwise.<br />
See <a href="#ansi-escape-sequences-and-overstrikes">here</a> for details. The<br />
<code>g:vimpager.ansiesc</code> setting applies to the <code>Page</code> command if set.</p>
<p>Here is an example (that is already enabled in the plugin) of how you can use<br />
this command to look up the python documentation for the module under the cursor<br />
in a new tab:</p>
<pre class="vim"><code>autocmd FileType python setlocal keywordprg=:Page!\ -t\ pydoc</code></pre>
<p>Then pressing <code>K</code> on a module name under the cursor will open the pydoc for it<br />
in a new tab.</p>
<p>This is done by default in the plugin now for python, ruby, perl and sh (bash<br />
help.) The global default is man.</p>
<h1 id="command-line-options">COMMAND LINE OPTIONS</h1>
<h2 id="h-help-usage">-h | –help | –usage</h2>
<p>Print summary of options.</p>
<h2 id="v-version">-v | –version</h2>
<p>Print the version information.</p>
<h2 id="g">+ | +G</h2>
<p>Start at the end of the file, just like less.</p>
<h2 id="n-line-numbers">-N | –LINE-NUMBERS</h2>
<p>Turn on line numbers, this can also be set with <code>let g:less.number = 1</code> .</p>
<h2 id="c-cmd">-c cmd</h2>
<p>Run a vim command after opening the file. Multiple -c arguments are<br />
supported.</p>
<h2 id="cmd-cmd">–cmd cmd</h2>
<p>Run a vim command when entering vim before anything else. Multiple –cmd<br />
arguments are supported.</p>
<h2 id="u-vimrc">-u vimrc</h2>
<p>Use alternate .vimrc or .vimpagerrc.</p>
<h2 id="s">-s</h2>
<p>Squeeze blank lines into a single blank line. GNU man passes this option to<br />
/usr/bin/pager.</p>
<h2 id="x">-x</h2>
<p>Enable debugging output for the shell script part of vimpager.</p>
<h1 id="ansi-escape-sequences-and-overstrikes">ANSI ESCAPE SEQUENCES AND OVERSTRIKES</h1>
<p>If your source is using ANSI escape codes, the AnsiEsc plugin will be<br />
used to show them, rather than the normal vim highlighting, however read<br />
the caveats below. If this is not possible, they will be stripped out<br />
and normal vim highlighting will be used instead.</p>
<p>Overstrikes in man pages, perl, python or ruby docs will always be removed.</p>
<p>vimpager bundles the<br />
<a href="http://www.vim.org/scripts/script.php?script_id=4979">AnsiEsc</a><br />
plugin (it is expanded at runtime,<br />
there is nothing you have to do to enable it.)</p>
<p>However, your vim must have been compiled with the ‘conceal’ feature<br />
enabled. To check, try</p>
<pre class="vim"><code>:echo has(&#39;conceal&#39;)</code></pre>
<p>if the result is ‘1’ you have conceal, if it’s ‘0’ you do not, and the<br />
AnsiEsc plugin will not be enabled.</p>
<p>If you’re on a Mac, the system vim does not enable this feature, install<br />
vim from Homebrew.</p>
<p>To disable the use of AnsiEsc.vim, set:</p>
<pre class="vim"><code>let g:vimpager.ansiesc = 0</code></pre>
<p>If the file has a modeline that sets ft or syntax, the setting will override<br />
the use of AnsiEsc.</p>
<p>To turn off AnsiEsc while viewing a file, simply run</p>
<pre class="vim"><code>:AnsiEsc</code></pre>
<p>To turn off AnsiEsc on the commandline, use an invocation such as the following:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">vimpager</span> -c <span class="st">&#39;set ft=&amp;ft&#39;</span> somefile</code></pre></div>
<p><strong>NOTE:</strong> The <code>conceal</code> feature of vim is still very buggy, especially as<br />
concerns spacing, and the line wrapping in files highlighted with <code>AnsiEsc</code><br />
will not be correct (they are wrapped too soon.) The tab stops will be correct<br />
however, this is fixed up with a vim script.</p>
<p><strong>NOTE:</strong> <code>AnsiEsc</code> is a work in progress, and will only display files with<br />
simple ANSI codes correctly, such as that output by git tools. More complex<br />
highlighting is likely not going to work right now. We are working on this.</p>
<h1 id="passthrough-mode">PASSTHROUGH MODE</h1>
<p>If the text sent to the pager is smaller than the terminal window, then<br />
it will be displayed without vim as text. If it has ansi codes, they<br />
will be preserved, otherwise the text will be highlighted with vimcat.</p>
<p>You can turn this off by using:</p>
<pre class="vim"><code>let g:vimpager.passthrough = 0</code></pre>
<h1 id="cygwinmsysmsys2-notes">CYGWIN/MSYS/MSYS2 NOTES</h1>
<p>vimpager works correctly with the native Windows gvim, just put it in<br />
your PATH and set the vimpager_use_gvim option as described above.</p>
<h1 id="environment">ENVIRONMENT</h1>
<p><code>VIMPAGER_VIM</code> can be set to the vim binary you want to use, if it starts with<br />
gvim or mvim then gui mode will be used. Will fall back to <code>EDITOR</code> if it<br />
contains vim.</p>
<p>You can specify the vimrc to use with the <code>VIMPAGER_RC</code> environment variable.</p>
<p>Setting <code>VIMPAGER_DEBUG</code> to a non-zero value will disable suppressing vim<br />
errors on startup and when switching to the next file.</p>
</body>
</html>
